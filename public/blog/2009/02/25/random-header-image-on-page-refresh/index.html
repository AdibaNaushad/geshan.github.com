<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Random Header Image on Page Refresh (Applicable to Drupal Theme) - Geshan&#8217;s Blog</title>
  <meta name="author" content="Geshan Manandhar">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yoursite.com/blog/2009/02/25/random-header-image-on-page-refresh">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Geshan's Blog" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://yoursite.com/blog/2009/02/25/random-header-image-on-page-refresh">
  <meta property="og:title" content="Random Header Image on Page Refresh (Applicable to Drupal Theme) - Geshan's Blog">
  

  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>

<link href="/assets/bootstrap/dist/css/bootstrap.united.min.css" rel="stylesheet" type="text/css">


  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  

</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Geshan&#8217;s Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:yoursite.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-8" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Geshan's Blog" />
    
    <meta itemprop="url" content="http://yoursite.com" />
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-02-25T19:06:00+04:00"  data-updated="true" itemprop="datePublished dateCreated"><time class='entry-date' datetime='2009-02-25T19:06:00+04:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>7:06 pm</span></time></time>
        
           | <a href="#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://yoursite.com">Comments</a>
        
      </p>
    
    
    <h1 class="entry-title" itemprop="name headline">
        Random Header Image on Page Refresh (Applicable to Drupal Theme)
        
    </h1>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Some time back, we needed to get a random header image on every page refresh for a client. So I devised a simple way to select a header image from any 5 given images and show it on a page. How did I do it with PHP and CSS is explained below:<br /><h3>Ingredients: Template File, CSS and Images<a href="http://2.bp.blogspot.com/_L4bRnZ5TPr8/Saa2fsT73JI/AAAAAAAAA94/Gq8DRBN81LY/s1600-h/nagdaha_implementation.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://2.bp.blogspot.com/_L4bRnZ5TPr8/Saa2fsT73JI/AAAAAAAAA94/Gq8DRBN81LY/s400/nagdaha_implementation.jpg" id="BLOGGER_PHOTO_ID_5307129866489683090" style="cursor: pointer; display: block; height: 400px; margin: 0px auto 10px; text-align: center; width: 394px;" /></a></h3><br /><h4>The Template File</h4>First you need to find out the div where the random header image is going to be displayed, as its the header image then its obivious that we need to add a class to the header div. Problem is how is the single class going to have 5 different images as its background and that also changed in every page refresh.<br />For this just add a class called header-x, x is replaced with a random number between 1 and 5 by using PHP&#8217;s rand() function. This will require your template to be a PHP  file, if you are using a CMS like Drupal then in Drupal edit the header div&#8217;s code in page.tpl.php file as below:<br /><a href="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SaaxxsMkbFI/AAAAAAAAA9o/lvCR2L9Mjkw/s1600-h/php_code_in_template.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SaaxxsMkbFI/AAAAAAAAA9o/lvCR2L9Mjkw/s400/php_code_in_template.jpg" id="BLOGGER_PHOTO_ID_5307124678138293330" style="cursor: pointer; display: block; height: 108px; margin: 0px auto 10px; text-align: center; width: 400px;" /></a><br /><h4>The CSS Code</h4>After the template is fixed, now you have to apply a different background image to the classes 1-5. So header-1 will have header1.jpg,&#8230;. till header-5 will have header5.jpg as its background image.  The code can be seen below and downloaded <a href="http://www.geshanmanandhar.com/random_header.css" target="_blank">here</a>.<br /><a href="http://3.bp.blogspot.com/_L4bRnZ5TPr8/Saay9v_8RYI/AAAAAAAAA9w/Bp7ASplXh0o/s1600-h/css_code.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://3.bp.blogspot.com/_L4bRnZ5TPr8/Saay9v_8RYI/AAAAAAAAA9w/Bp7ASplXh0o/s400/css_code.jpg" id="BLOGGER_PHOTO_ID_5307125984829130114" style="cursor: pointer; display: block; height: 400px; margin: 0px auto 10px; text-align: center; width: 400px;" /></a><br /><br /><br /><h4>The Images</h4>Create 5 images of the same size and relevant to the website. You have your random header on page refresh working. Make sure the images are named correctly and placed relative to the CSS file for it to work.<br /><br />In case of 5 images when page refreshes the same image may appear but in case of 10 images the chances of same image repeating is slim. Back-end Caching can also affect the PHP&#8217;s random function call.<br /><h4>Live Websites</h4>Live websites to check out similar implementations: <a href="http://www.gurkhaencounters.com/" target="_blank">www.gurkhaencounters.com</a> and <a href="http://nagdaha.org.np/" target="_blank">www.nagdaha.org.np</a>.<br /><blockquote>Hope you liked this small but effective tutorial, have fun with PHP and CSS.</blockquote></div></div>
</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Geshan Manandhar</span></span>

          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-02-25T19:06:00+04:00"  data-updated="true" itemprop="datePublished dateCreated"><time class='entry-date' datetime='2009-02-25T19:06:00+04:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>7:06 pm</span></time></time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/php/'>php</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/technology/'>technology</a>, <a class='category' href='/blog/categories/tutorial/'>tutorial</a>
  
</span>


        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://yoursite.com/blog/2009/02/25/random-header-image-on-page-refresh/" data-via="geshan" data-counturl="http://yoursite.com/blog/2009/02/25/random-header-image-on-page-refresh/" >Tweet</a>
  
  
  
</div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2009/02/20/cheap-feature-rich-webhosting-at/" title="Previous Post: Cheap feature rich webhosting at LayerOnline.com">&laquo; Cheap feature rich webhosting at LayerOnline.com</a></li>
            
            
            <li class="next"><a href="/blog/2009/02/26/webhosting-geeks-helps-you-find-better/" title="Next Post: Webhosting geeks helps you find better web host">Webhosting geeks helps you find better web host &raquo;</a></li>
            
          </ul>
        
      </footer>
    </article>
    
  </div>

  
  <aside class="sidebar col-md-4">
    
      <section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>
    <div class="list-group">
        
        
        <a class="list-group-item " href="/blog/categories/misc/index.html">
            <span class="badge">149</span>
            misc
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/mobiles/index.html">
            <span class="badge">8</span>
            mobiles
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/technology/index.html">
            <span class="badge">92</span>
            technology
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/foss/index.html">
            <span class="badge">12</span>
            foss
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/drupal/index.html">
            <span class="badge">37</span>
            drupal
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/programming/index.html">
            <span class="badge">16</span>
            programming
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/tutorial/index.html">
            <span class="badge">20</span>
            tutorial
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/about-me/index.html">
            <span class="badge">2</span>
            about me
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/learn-php/index.html">
            <span class="badge">4</span>
            learn php
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/php/index.html">
            <span class="badge">16</span>
            php
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/codeigniter/index.html">
            <span class="badge">1</span>
            codeigniter
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/git/index.html">
            <span class="badge">2</span>
            git
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/apps/index.html">
            <span class="badge">4</span>
            apps
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/android/index.html">
            <span class="badge">2</span>
            android
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/testing/index.html">
            <span class="badge">1</span>
            testing
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/javascript/index.html">
            <span class="badge">1</span>
            javascript
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/symfony/index.html">
            <span class="badge">1</span>
            symfony
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/talks/index.html">
            <span class="badge">2</span>
            talks
        </a>
        
    </div>
</section><section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2014/08/30/things-i-wished-i-knew-while-doing-my/">Things I Wished I Knew While Doing My Tech Bachelor / Undergraduate (Slides and Video)</a>
    
    <a class="list-group-item " href="/blog/2014/08/29/basic-overview-of-message-queues-rabbit/">Basic Overview of Message Queues - Rabbit Mq With Symfony 2 (Slides and Talk Video)</a>
    
    <a class="list-group-item " href="/blog/2014/07/28/4-git-tips-beyond-basics/">4 Git Tips Beyond the Basics</a>
    
    <a class="list-group-item " href="/blog/2014/07/18/3-bundles-to-get-started-with-rest-in/">3 Bundles to Get Started With REST in Symfony 2 and Some Tips</a>
    
    <a class="list-group-item " href="/blog/2014/07/12/a-big-thanks-to-all-programmers-you/">A Big Thanks to All the Programmers, You Make the World Go Round</a>
    
  </div>
</section>

<section id="twitter-timeline" class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">
            Latest Tweets
            
            <small class="pull-right">
              <a class="btn" href="//twitter.com/geshan" title="@geshan on Twitter" target="_blank">
                <i class="icon-external-link"></i>
              </a>
            </small>
            
        </h3>
    </div>
    <div class="list-group">
          <a class="twitter-timeline" data-dnt="true" href="//twitter.com/geshan"  data-widget-id="518273942725722112"  data-link-color="#049cdb" data-tweet-limit="" data-chrome="noheader nofooter transparent noscrollbar">Tweets by @geshan</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
</section>


    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Geshan Manandhar<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'geshanblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


  </body>
</html>
